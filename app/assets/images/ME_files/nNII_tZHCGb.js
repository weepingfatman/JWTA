if (self.CavalryLogger) { CavalryLogger.start_js(["EHaG1"]); }

__d("MercuryPayloadSource",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN:"unknown",CLIENT_CHANNEL_MESSAGE:"client_channel_message",CLIENT_SEND_MESSAGE:"client_send_message",CLIENT_CHANGE_ARCHIVED_STATUS:"client_change-archived_status",CLIENT_CHANGE_FOLDER:"client_change_folder",CLIENT_CHANGE_MUTE_SETTINGS:"client_change_mute_settings",CLIENT_CHANGE_READ_STATUS:"client_change_read_status",CLIENT_CHANGE_CUSTOM_LIKE:"client_change_custom_like",CLIENT_MARK_THREAD_SEEN:"client_mark_thread_seen",CLIENT_ADD_PARTICIPANTS:"client_add_participants",CLIENT_FETCH_PARTICIPANTS:"client_fetch_participants",CLIENT_DELETE_MESSAGES:"client_delete_messages",CLIENT_DELETE_THREAD:"client_delete_thread",CLIENT_UPDATE_SNIPPET:"client_update_snippet",CLIENT_HANDLE_ERROR:"client_handle_error",CLIENT_CHANGE_FLAG:"client_change_flag",CLIENT_MOVE_PENDING_TO_INBOX:"client_move_pending_to_inbox",CLIENT_CREATE_PAGE_ADMIN_NOTE:"client_create_page_admin_note",CLIENT_UNWRAP_MESSAGE:"client_unwrap_message",SERVER_INITIAL_DATA:"server_initial_data",SERVER_SEND_MESSAGE:"server_send_message",SERVER_CHANGE_ARCHIVED_STATUS:"server_change_archived_status",SERVER_CHANGE_READ_STATUS:"server_change_read_status",SERVER_MARK_FOLDER_READ:"server_mark_folder_read",SERVER_MARK_SEEN:"server_mark_seen",SERVER_FETCH_PARTICIPANTS:"server_fetch_participants",SERVER_FETCH_THREAD_INFO:"server_fetch_thread_info",SERVER_FETCH_THREADLIST_INFO:"server_fetch_threadlist_info",SERVER_STANDALONE_NOTIFICATIONS:"server_standalone_notifications",SERVER_THREAD_SYNC:"server_thread_sync",SERVER_TAB_PRESENCE:"server_tab_presence",SERVER_UNREAD_THREADS:"server_unread_threads",SERVER_UNSEEN_THREADS:"server_unseen_threads",SERVER_SEARCH:"server_search",SERVER_CHANGE_FLAG:"server_change_flag",SERVER_INVALIDATE_THREAD_STATE:"server_invalidate_thread_state",SERVER_INVALIDATE_GLOBAL_STATE:"server_invalidate_global_state"};}),null);
__d('getByPath',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l=i;for(var m=0;m<j.length;m++){var n=j[m];if(l&&n in l){l=l[n];}else return k;}return l;}f.exports=h;}),null);
__d('LiveWWWFeedbackTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:LiveWWWFeedbackLoggerConfig',this.$LiveWWWFeedbackTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:LiveWWWFeedbackLoggerConfig',this.$LiveWWWFeedbackTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$LiveWWWFeedbackTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$LiveWWWFeedbackTypedLogger1=babelHelpers['extends']({},this.$LiveWWWFeedbackTypedLogger1,j);return this;};h.prototype.setCommentID=function(j){this.$LiveWWWFeedbackTypedLogger1.comment_id=j;return this;};h.prototype.setEvent=function(j){this.$LiveWWWFeedbackTypedLogger1.event=j;return this;};h.prototype.setIsMSite=function(j){this.$LiveWWWFeedbackTypedLogger1.is_m_site=j;return this;};h.prototype.setMechanism=function(j){this.$LiveWWWFeedbackTypedLogger1.mechanism=j;return this;};h.prototype.setOriginatedLocally=function(j){this.$LiveWWWFeedbackTypedLogger1.originated_locally=j;return this;};h.prototype.setRecipientID=function(j){this.$LiveWWWFeedbackTypedLogger1.recipient_id=j;return this;};h.prototype.setTimeSinceSub=function(j){this.$LiveWWWFeedbackTypedLogger1.time_since_sub=j;return this;};h.prototype.setUpdateType=function(j){this.$LiveWWWFeedbackTypedLogger1.update_type=j;return this;};h.prototype.setVC=function(j){this.$LiveWWWFeedbackTypedLogger1.vc=j;return this;};var i={comment_id:true,event:true,is_m_site:true,mechanism:true,originated_locally:true,recipient_id:true,time_since_sub:true,update_type:true,vc:true};f.exports=h;}),null);
__d('UFIFeedbackMutator',['ClientIDs','LiveWWWFeedbackTypedLogger','UFIConstants','UFIReactionTypes','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h=c('UFIConstants').UFIActionType,i=c('UFIConstants').UFIPayloadSourceType,j={getHandlerForAction:function k(l){var m;return (m={},m[h.LIKE_ACTION]=j.handleLike,m[h.SUBSCRIBE_ACTION]=j.handleSubscribe,m[h.DISABLE_COMMENTS]=j.handleCommentsDisabled,m[h.REACTION]=j.handleReaction,m)[l.actiontype]||c('emptyFunction');},handleLike:function k(l,m,n){var o=m.clientid&&c('ClientIDs').isExistingClientID(m.clientid);if(n===i.LIVE_SEND||n===i.STREAMING)new (c('LiveWWWFeedbackTypedLogger'))().updateData({event:'update_view',update_type:'like',originated_locally:o}).log();if(o&&m.hasviewerliked!=l.hasviewerliked)return null;l.likecount=m.likecount;l.likesentences=m.likesentences;if(m.actorid==l.actorforpost){l.hasviewerliked=m.hasviewerliked;}else{l.likesentences.isunseen=true;if(m.hasviewerliked!=l.hasviewerliked){l.likecount+=l.hasviewerliked?1:-1;l.likesentences={current:m.likesentences.alternate,alternate:m.likesentences.current,isunseen:l.likesentences.isunseen};}}return l;},handleSubscribe:function k(l,m,n){if(m.clientid&&c('ClientIDs').isExistingClientID(m.clientid)&&m.hasviewersubscribed!=l.hasviewersubscribed)return null;if(m.actorid==l.actorforpost){l.hasviewersubscribed=m.hasviewersubscribed;return l;}return l;},handleCommentsDisabled:function k(l,m,n){l.cancomment=m.cancomment;l.arecommentsdisabled=m.arecommentsdisabled;l.commentdisablednotice=m.commentdisablednotice;return l;},handleReaction:function k(l,m,n){if(m.clientid&&c('ClientIDs').isExistingClientID(m.clientid)&&m.viewerreaction!==l.viewerreaction)return null;if(l.reactors&&l.actorforpost==m.actorid&&l.viewerreaction!=m.viewerreaction)if(m.viewerreaction==c('UFIReactionTypes').NONE){l.reactors=l.reactors.slice(1);}else if(l.viewerreaction==c('UFIReactionTypes').NONE){l.reactors.unshift({name:l.ownname,profilepicsrc:l.ownprofpic,reaction:m.viewerreaction});}else l.reactors[0].reaction=m.viewerreaction;if(l.actorforpost==m.actorid||l.viewerreaction==m.viewerreaction){l.reactioncount=m.reactioncount;l.reactioncountmap=m.reactioncountmap;l.reactioncountreduced=m.reactioncountreduced;l.reactionsentences=m.reactionsentences;l.reactorids=m.reactorids;l.userreactions=m.userreactions;l.viewerreaction=m.viewerreaction;}return l;}};f.exports=j;}),null);
__d('UFIFeedbackTargets',['KeyedCallbackManager','UFICentralUpdates','UFIFeedbackMutator'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('KeyedCallbackManager'))();function i(l){var m;if(!l)return;var n=babelHelpers['extends']({},l);delete n.commentlist;delete n.commentcount;c('UFICentralUpdates').didUpdateFeedback(l.entidentifier);h.addResourcesAndExecute((m={},m[l.entidentifier]=n,m));}function j(l,m){for(var n=0;n<l.length;n++){var o=l[n];o.arecommentsdisabled=!!o.arecommentsdisabled;o.cancomment=!!o.cancomment;o.hasviewerliked=!!o.hasviewerliked;o.hasviewersubscribed=!!o.hasviewersubscribed;o.likecount=o.likecount||0;var p=h.getResource(o.entidentifier);if(!p)break;var q=c('UFIFeedbackMutator').getHandlerForAction(o);i(q(p,o,m));}}var k={getFeedbackTarget:function l(m,n){var o=h.executeOrEnqueue(m,n),p=h.getUnavailableResources(o);p.length;return o;},getFeedbackTargetIfExists:function l(m){return h.getResource(m)||null;},unsubscribe:function l(m){h.unsubscribe(m);}};c('UFICentralUpdates').subscribe('update-feedback',function(l,m){var n=m.feedbacktarget?m.feedbacktarget:m.feedbacktargets&&m.feedbacktargets[0];if(n)i(n);});c('UFICentralUpdates').subscribe('update-actions',function(l,m){if(m.actions&&m.actions.length)j(m.actions,m.payloadsource);});f.exports=k;}),22);
__d('TypeaheadFacepile',['DOM'],(function a(b,c,d,e,f,g){function h(){}h.render=function(i){var j=[c('DOM').create('span',{className:'splitpic leftpic'},[c('DOM').create('img',{alt:'',src:i[0]})]),c('DOM').create('span',{className:'splitpic'+(i[2]?' toppic':'')},[c('DOM').create('img',{alt:'',src:i[1]})])];if(i[2])j.push(c('DOM').create('span',{className:'splitpic bottompic'},[c('DOM').create('img',{alt:'',src:i[2]})]));return c('DOM').create('span',{className:'splitpics clearfix'},j);};f.exports=h;}),null);
__d('MercuryServerURIs',[],(function a(b,c,d,e,f,g){'use strict';f.exports={THREAD_INFO:'/ajax/mercury/thread_info.php',MARK_FOLDER_READ:'/ajax/mercury/mark_folder_as_read.php',CHANGE_READ_STATUS:'/ajax/mercury/change_read_status.php',MARK_SEEN:'/ajax/mercury/mark_seen.php',THREADLIST_INFO:'/ajax/mercury/threadlist_info.php',MARK_SPAM:'/ajax/mercury/mark_spam.php',UNMARK_SPAM:'/ajax/mercury/unmark_spam.php',UNREAD_THREADS:'/ajax/mercury/unread_threads.php',CHANGE_ARCHIVED_STATUS:'/ajax/mercury/change_archived_status.php',DELETE_THREAD:'/ajax/mercury/delete_thread.php',DELETE_MESSAGES:'/ajax/mercury/delete_messages.php',DELIVERY_RECEIPTS:'/ajax/mercury/delivery_receipts.php',MOVE_THREAD:'/ajax/mercury/move_thread.php',CHANGE_MUTE_THREAD:'/ajax/mercury/change_mute_thread.php'};}),null);
__d('MercuryServerDispatcher',['Promise','AsyncRequest','AsyncResponse','BanzaiLogger','Bootloader','ChatPerfEvent','CurrentUser','FBID','LogHistory','MercuryConfig','MercuryPayloadSource','MercuryServerURIs','Set','areJSONRepresentationsEqual','debounceAcrossTransitions','getByPath','performanceAbsoluteNow'],(function a(b,c,d,e,f,g){'use strict';var h={},i=c('LogHistory').getInstance('mercury_server_dispatcher'),j=false,k={IMMEDIATE:'immediate',IDEMPOTENT:'idempotent',BATCH_SUCCESSIVE:'batch-successive',BATCH_SUCCESSIVE_UNIQUE:'batch-successive-unique',BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:'batch-successive-piggyback-retry',BATCH_DEFERRED_MULTI:'batch-deferred-multi',BATCH_CONDITIONAL:'batch-conditional',DEFAULT_ENDPOINT_ID:'mercuryServerDispatcherDefaultEndpointID',registerEndpoints:function n(o){for(var p in o){var q=o[p],r=q.request_user_id||c('CurrentUser').getID(),s=q.endpoint_id||k.DEFAULT_ENDPOINT_ID;if(!h[p])h[p]={};if(!h[p][r])h[p][r]={};h[p][r][s]=new l(p,q);}},trySend:function n(o,p,q,r,s){r=r||c('CurrentUser').getID();s=s||k.DEFAULT_ENDPOINT_ID;h[o][r][s].trySend(p,q);}};function l(n,o){var p=o.mode||k.IMMEDIATE;switch(p){case k.IMMEDIATE:case k.IDEMPOTENT:case k.BATCH_SUCCESSIVE:case k.BATCH_SUCCESSIVE_UNIQUE:case k.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case k.BATCH_DEFERRED_MULTI:case k.BATCH_CONDITIONAL:break;default:throw new Error('Invalid MercuryServerDispatcher mode '+p);}this._endpoint=n;this._mode=p;this._customHeader=o.customHeader;this._requestUserID=o.request_user_id;this._combineData=o.batch_function;this._combineDataIf=o.batch_if;this._batches=[];this._handler=o.handler;this._errorHandler=o.error_handler;this._transportErrorHandler=o.transport_error_handler||o.error_handler;this._connectionRetries=o.connection_retries||0;this._timeoutHandler=o.timeout_handler;this._timeout=o.timeout;this._serverDialogCancelHandler=o.server_dialog_cancel_handler||o.error_handler;this._deferredSend=c('debounceAcrossTransitions')(this._batchSend,0,this);}Object.assign(l.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function n(o,p){if(j)return;if(o===undefined)o=null;var q=p||this._mode;if(q==k.IMMEDIATE){this._send(o);}else if(q==k.IDEMPOTENT){if(!this._inFlight)this._send(o);}else if(q==k.BATCH_SUCCESSIVE||q==k.BATCH_SUCCESSIVE_UNIQUE){if(!this._inFlight){this._send(o);}else this._batchData(o);}else if(q==k.BATCH_CONDITIONAL){var r=this._batches[0]&&this._batches[0].getData();if(this._inFlight&&(this._combineDataIf(this._pendingRequestData,o)||this._combineDataIf(r,o))){this._batchData(o);}else this._send(o);}else if(q==k.BATCH_DEFERRED_MULTI){this._batchData(o);this._deferredSend();}else if(q==k.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR){this._batchData(o);if(!this._inFlight)this._batchSend();}},_send:function n(o){var p,q=this;this._inFlight++;this._pendingRequestData=babelHelpers['extends']({},o);if(this._requestUserID!=c('CurrentUser').getID())o.request_user_id=this._requestUserID;i.log('send',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var r=c('performanceAbsoluteNow')(),s=new (c('AsyncRequest'))(this._endpoint).setData(o).setOption('retries',this._connectionRetries).setAllowCrossPageTransition(true);if(this._customHeader)s.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._endpoint===c('MercuryServerURIs').THREAD_INFO&&c('MercuryConfig').SulfurThreadFetcher){var p=function(){var t=c('getByPath')(o,['threads','user_ids'],[]),u=c('getByPath')(o,['threads','thread_fbids'],[]),v=c('getByPath')(o,['messages','user_ids'],{}),w=c('getByPath')(o,['messages','thread_fbids'],{}),x=o.request_user_id&&!c('FBID').isUser(o.request_user_id);c('Bootloader').loadModules(["messengerGraphQLThreadFetcherRe"],function(y){var z=o.request_user_id||c('CurrentUser').getID(),aa=Object.keys(v),ba=aa.map(function(ga){var ha=v[ga].limit,ia=v[ga].timestamp;return x?y.forIDCanonicalWithPageAsActor(z,ga,ia?ha+1:ha,v[ga].offset>0,ia):y.forIDCanonical(z,ga,ia?ha+1:ha,v[ga].offset>0,ia);}),ca=new (c('Set'))(aa);t.forEach(function(ga){if(ca.has(ga))return;ba.push(x?y.forIDCanonicalWithPageAsActor(z,ga,0,false,null):y.forIDCanonical(z,ga,0,false,null));});var da=Object.keys(w),ea=da.map(function(ga){var ha=w[ga].limit,ia=w[ga].timestamp;return x?y.forIDNonCanonicalWithPageAsActor(z,ga,ia?ha+1:ha,w[ga].offset>0,ia):y.forIDNonCanonical(z,ga,ia?ha+1:ha,w[ga].offset>0,ia);}),fa=new (c('Set'))(da);u.forEach(function(ga){if(fa.has(ga))return;ea.push(x?y.forIDNonCanonicalWithPageAsActor(z,ga,0,false,null):y.forIDNonCanonical(z,ga,0,false,null));});c('Promise').all([].concat(ba,ea)).done(function(ga){var ha,ia=this,ja=ga;if(ja.length>0){(function(){var ka={};ja.forEach(function(oa){return Object.assign(ka,oa.roger);});var la=[];ja.forEach(function(oa){return la=la.concat(oa.actions);});la=la.filter(Boolean);var ma={actions:la,threads:ja.map(function(oa){return oa.thread;}).filter(Boolean),end_of_history:ja.map(function(oa){return oa.end_of_history;}).filter(Boolean),roger:ka,payload_source:c('MercuryPayloadSource').SERVER_FETCH_THREAD_INFO},na=new (c('AsyncResponse'))(s,ma);ia._handleResponse(na);})();}else this._handleResponse(new (c('AsyncResponse'))(s,{}));}.bind(this),function(ga){if(typeof ga.getRequest!=='function')ga=new (c('AsyncResponse'))(s,null);this._handleError(ga);}.bind(this));}.bind(q),'MercuryServerDispatcher');return {v:void 0};}();if(typeof p==="object")return p.v;}s.setHandler(function(t){c('BanzaiLogger').log('ChatPerfLoggerConfig',{event:c('ChatPerfEvent').ASYNC_REQUEST,duration:c('performanceAbsoluteNow')()-r,endpoint:this._endpoint});this._handleResponse(t);}.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this));if(this._timeout&&this._timeoutHandler)s.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));s.send();},_batchData:function n(o,p){if(this._mode==k.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==undefined&&c('areJSONRepresentationsEqual')(o,this._pendingRequestData)){return;}else{var q=this._batches.length-1;if(q>=0){p?this._batches[q].combineWithOlder(o,this._combineData):this._batches[q].combineWith(o,this._combineData);}else this._batches.push(new m(o));i.debug('batch',JSON.stringify({endpoint:this._endpoint}));}},_batchSend:function n(){if(this._batches[0]){this._send(this._batches[0].getData());this._batches.shift();}},_handleResponse:function n(o){this._inFlight--;i.log('response',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var p=o.getPayload();j=p&&p.kill_chat;if(j)i.log('killswitch_enabled',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));if(p&&p.error_payload){if(this._errorHandler){this._errorHandler(o);}}else this._handler&&this._handler(p,o.getRequest());if(this._mode==k.BATCH_SUCCESSIVE||this._mode==k.BATCH_SUCCESSIVE_UNIQUE||this._mode==k.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==k.BATCH_CONDITIONAL)this._batchSend();delete this._pendingRequestData;},_postErrorHandler:function n(){this._inFlight--;i.error('error',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var o=this._mode;if(o==k.BATCH_SUCCESSIVE||o==k.BATCH_SUCCESSIVE_UNIQUE||o==k.BATCH_CONDITIONAL){this._batchSend();}else if(o==k.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR)if(this._batches[0]){this._batchData(this._pendingRequestData,true);this._batchSend();}else this._batchData(this._pendingRequestData,true);delete this._pendingRequestData;},_handleError:function n(o){this._errorHandler&&this._errorHandler(o);this._postErrorHandler();},_handleTransportError:function n(o){this._transportErrorHandler&&this._transportErrorHandler(o);this._postErrorHandler();},_handleTimeout:function n(o){this._timeoutHandler&&this._timeoutHandler(o);this._postErrorHandler();},_handleServerDialogCancel:function n(o){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(o);this._postErrorHandler();}});function m(n){this._data=n;this._size=1;}Object.assign(m.prototype,{getData:function n(){return this._data;},getSize:function n(){return this._size;},combineWith:function n(o,p){this._data=p(this._data,o);this._size++;},combineWithOlder:function n(o,p){this._data=p(o,this._data);this._size++;}});f.exports=k;}),null);
__d('SearchI18nArabic',[],(function a(b,c,d,e,f,g){'use strict';var h=/[\u0600-\u06FF]/;function i(o){return h.test(o);}var j={1570:1575,1571:1575,1573:1575,1649:1575,1609:1610,1577:1607,1572:1569,1574:1569},k=[1600,1611,1612,1613,1614,1615,1616,1617,1618];function l(o){return Object.prototype.hasOwnProperty.call(j,o)?String.fromCharCode(j[o]):k.indexOf(o)!=-1?'':String.fromCharCode(o);}function m(o){if(!i(o))return o;var p=[];for(var q=0;q<o.length;q++){var r=o.charCodeAt(q);p.push(l(r));}return p.join('');}var n={hasArabicCharacters:i,normalizeCharCode:l,arabicNormalization:m};f.exports=n;}),null);
__d('UnicodeCJK',[],(function a(b,c,d,e,f,g){'use strict';var h='a-zA-Z',i='\uFF21-\uFF3A\uFF41-\uFF5A',j=h+i,k='\u3040-\u309F',l='\u30A0-\u30FF',m='\u31F0-\u31FF',n='\uFF65-\uFF9F',o=l+m+n,p=k+o,q=[12352,12447],r=[12448,12543],s=r[0]-q[0],t='\u4E00-\u9FCF',u='\u3400-\u4DBF',v=t+u,w='\uAC00-\uD7AF',x=v+p+w,y=null,z=null,aa=null,ba=null;function ca(ka){z=z||new RegExp('['+p+']');return z.test(ka);}function da(ka){y=y||new RegExp('['+v+']');return y.test(ka);}function ea(ka){aa=aa||new RegExp('['+x+']');return aa.test(ka);}function fa(ka){var la=ka.charCodeAt(0);return String.fromCharCode(la<q[0]||la>q[1]?la:la+s);}function ga(ka){if(!ca(ka))return ka;return ka.split('').map(fa).join('');}function ha(ka){ba=ba||new RegExp('^'+'['+p+']+'+'['+j+']'+'$');return ba.test(ka);}function ia(ka){if(ha(ka))return ka.substr(0,ka.length-1);return ka;}var ja={hasKana:ca,hasIdeograph:da,hasIdeoOrSyll:ea,hiraganaToKatakana:ga,isKanaWithTrailingLatin:ha,kanaRemoveTrailingLatin:ia};f.exports=ja;}),null);
__d('UnicodeHangulKorean',[],(function a(b,c,d,e,f,g){'use strict';var h=/[\u3130-\u318F\uAC00-\uD7AF]/;function i(ba){return h.test(ba);}var j=[4352,4353,4522,4354,4524,4525,4355,4356,4357,4528,4529,4530,4531,4532,4533,4378,4358,4359,4360,4385,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4449,4450,4451,4452,4453,4454,4455,4456,4457,4458,4459,4460,4461,4462,4463,4464,4465,4466,4467,4468,4469,4448,4372,4373,4551,4552,4556,4558,4563,4567,4569,4380,4573,4575,4381,4382,4384,4386,4387,4391,4393,4395,4396,4397,4398,4399,4402,4406,4416,4423,4428,4593,4594,4439,4440,4441,4484,4485,4488,4497,4498,4500,4510,4513],k=12593,l=j.length,m=k+l;function n(ba){return String.fromCharCode(j[ba-k]);}var o=4352,p=4449,q=4519,r=44032,s=19,t=21,u=28,v=t*u,w=s*v,x=r+w;function y(ba){var ca=ba-r,da=ca%u;return String.fromCharCode(o+ca/v)+String.fromCharCode(p+ca%v/u)+(da>0?String.fromCharCode(q+da):'');}function z(ba){if(!i(ba))return ba;var ca=[];for(var da=0;da<ba.length;da++){var ea=ba.charAt(da),fa=ea.charCodeAt(0);ca.push(k<=fa&&fa<m?n(fa):r<=fa&&fa<x?y(fa):ea);}return ca.join('');}var aa={toConjoiningJamo:z};f.exports=aa;}),null);
__d('SearchI18nMatch',['invariant','UnicodeHangulKorean','UnicodeCJK','SearchI18nArabic','createObjectFrom','mapObject'],(function a(b,c,d,e,f,g,h){'use strict';var i=['prefix_hangul_conjoining_jamo','prefix_kana_drop_trailing_latin','prefix_kana_hiragana_to_katakana','search_i18n_prefix_arabic_normalization'];function j(k){this.config=c('createObjectFrom')(i,false);this.setConfigs(k||{});}j.prototype.setConfigs=function(k){c('mapObject')(k,function(l,m){return this.setConfig(m,l);}.bind(this),this);};j.prototype.setConfig=function(k,l){k in this.config||h(0);this.config[k]=l;};j.prototype.prefixMatchPrepare=function(k){if(k){if(this.config.prefix_hangul_conjoining_jamo)k=c('UnicodeHangulKorean').toConjoiningJamo(k);if(this.config.prefix_kana_drop_trailing_latin)k=c('UnicodeCJK').kanaRemoveTrailingLatin(k);if(this.config.prefix_kana_hiragana_to_katakana)k=c('UnicodeCJK').hiraganaToKatakana(k);if(this.config.search_i18n_prefix_arabic_normalization)k=c('SearchI18nArabic').arabicNormalization(k);}return k;};j.prototype.prefixMatch=function(k,l){k=this.prefixMatchPrepare(k);l=this.prefixMatchPrepare(l);return k.startsWith(l);};f.exports=j;}),null);
__d("str2rstr",[],(function a(b,c,d,e,f,g){function h(i){var j="",k,l;for(var m=0;m<i.length;m++){k=i.charCodeAt(m);l=m+1<i.length?i.charCodeAt(m+1):0;if(55296<=k&&k<=56319&&56320<=l&&l<=57343){k=65536+((k&1023)<<10)+(l&1023);m++;}if(k<=127){j+=String.fromCharCode(k);}else if(k<=2047){j+=String.fromCharCode(192|k>>>6&31,128|k&63);}else if(k<=65535){j+=String.fromCharCode(224|k>>>12&15,128|k>>>6&63,128|k&63);}else if(k<=2097151)j+=String.fromCharCode(240|k>>>18&7,128|k>>>12&63,128|k>>>6&63,128|k&63);}return j;}f.exports=h;}),null);
__d('DataSource',['ArbiterMixin','AsyncRequest','TokenizeUtil','SearchI18nMatch','createArrayFromMixed','createObjectFrom','emptyFunction','mixin','str2rstr','Map'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this._maxResults=k.maxResults||10;this.token=k.token;this.queryData=k.queryData||{};this.queryEndpoint=k.queryEndpoint||'';this.bootstrapData=k.bootstrapData||{};this.bootstrapEndpoint=k.bootstrapEndpoint||'';this.globalKeywordsEndpoint=k.globalKeywordsEndpoint||'';this._indexedFields=k.indexedFields||['text','tokens'];this._titleFields=k.titleFields||[];this._alwaysPrefixMatch=k.alwaysPrefixMatch||false;this._deduplicationKey=k.deduplicationKey||null;this._enabledLocalCache=k.enabledLocalCache!=null?k.enabledLocalCache:true;this._enabledQueryCache=k.enabledQueryCache!=null?k.enabledQueryCache:true;this._disableAllCaches=k.disableAllCaches!=null?k.disableAllCaches:false;this._enabledMergeUids=k.enabledMergeUids!=null?k.enabledMergeUids:false;this._queryExactMatch=k.queryExactMatch||false;this._acrossTransitions=k.acrossTransitions||false;this._minQueryLength=k.minQueryLength||-1;this._enforceNewRequestIDUponFetch=k.enforceNewRequestIDUponFetch||false;this._minExactMatchLength=4;this._filters=[];this._headerflags=k.headerflags||new (c('Map'))();this.transport=null;this.setExclusions(k.exclusions);this.backendUnicodeMatch=new (c('SearchI18nMatch'))({prefix_kana_hiragana_to_katakana:!!k.kanaNormalization});this.cacheUnicodeMatch=new (c('SearchI18nMatch'))({prefix_kana_hiragana_to_katakana:!!k.kanaNormalization});}j.prototype.init=function(){'use strict';this.init=c('emptyFunction');this._fields=c('createObjectFrom')(this._indexedFields);this._activeQueries=0;this.dirty();};j.prototype.dirty=function(){'use strict';this.value='';this._bootstrapped=false;this._bootstrapping=false;this._data=Object.create(null);this.localCache={};this.queryCache={};this.queryIDs={};this.inform('dirty',{});return this;};j.prototype.bootstrap=function(){var k=arguments.length<=0||arguments[0]===undefined?false:arguments[0];'use strict';if(this._bootstrapped&&!k)return;this.bootstrapWithoutToken();this._bootstrapped=true;this._bootstrapping=true;this.inform('bootstrap',{bootstrapping:true});};j.prototype.bootstrapWithoutToken=function(){'use strict';this.fetch(this.bootstrapEndpoint,this.bootstrapData,{bootstrap:true,token:this.token});};j.prototype.bootstrapWithToken=function(){'use strict';var k=babelHelpers['extends']({},this.bootstrapData);k.token=this.token;this.fetch(this.bootstrapEndpoint,k,{bootstrap:true,replaceCache:true,value:''});};j.prototype.query=function(k,l,m,n,o){'use strict';this.inform('beforeQuery',babelHelpers['extends']({value:k,local_only:l,exclusions:m,time_waited:n},o));var p=Date.now();if(this._disableAllCaches){this.dirty();if(!k){this.bootstrap();return true;}}else if(!this._enabledQueryCache){this.queryCache={};this.queryIDs={};}var q=this.buildUids(k,[],m),r=this.respond(k,q);this.value=k;this.inform('query',babelHelpers['extends']({value:k,results:r},o));var s=this.tokenizeBackend(k).flatValue;if(l||!s||this._isQueryTooShort(s)||!this.queryEndpoint||Object.prototype.hasOwnProperty.call(this.getQueryCache(),s)||!this.shouldFetchMoreResults(r)){this.inform('logPerformanceTiming',babelHelpers['extends']({field:'cache_keypress_render',value:Date.now()-p},o));this.inform('completeCacheFetch');return false;}this.inform('queryEndpoint',babelHelpers['extends']({value:k},o));this.fetch(this.queryEndpoint,this.getQueryData(k,q),babelHelpers['extends']({value:k,exclusions:m},o));return true;};j.prototype._isQueryTooShort=function(k){'use strict';return k.length<this._minQueryLength;};j.prototype._tokenize=function(k,l){'use strict';return c('TokenizeUtil').parse(k,l);};j.prototype.tokenizeBackend=function(k,l){'use strict';k=this.backendUnicodeMatch.prefixMatchPrepare(k);return this._tokenize(k,l);};j.prototype.tokenizeCache=function(k,l){'use strict';k=this.cacheUnicodeMatch.prefixMatchPrepare(k);return this._tokenize(k,l);};j.prototype.shouldFetchMoreResults=function(k){'use strict';return k.length<this._maxResults;};j.prototype.getQueryData=function(k,l){'use strict';var m=babelHelpers['extends']({value:k},this.queryData);l=l||[];if(l.length)m.existing_ids=l.join(',');if(this._bootstrapping)m.bsp=true;return m;};j.prototype.setQueryData=function(k,l){'use strict';if(l)this.queryData={};Object.assign(this.queryData,k);return this;};j.prototype.setBootstrapData=function(k,l){'use strict';if(l)this.bootstrapData={};Object.assign(this.bootstrapData,k);return this;};j.prototype.getExclusions=function(){'use strict';return c('createArrayFromMixed')(this._exclusions);};j.prototype.setExclusions=function(k){'use strict';this._exclusions=k?k.map(String):[];};j.prototype.addFilter=function(k){'use strict';var l=this._filters;l.push(k);return {remove:function m(){l.splice(l.indexOf(k),1);}};};j.prototype.clearFilters=function(){'use strict';this._filters=[];};j.prototype.notify=function(k,l,m,n){'use strict';var o=this.buildData(l);this.inform('notify',{value:k,results:o,isAsync:!!m,rootid:n});return o;};j.prototype.respond=function(k,l,m){'use strict';var n=this.buildData(l);this.processResults(k,n,m);this.inform('respond',{value:k,results:n,isAsync:!!m});return n;};j.prototype.respondWithResults=function(k,l,m){'use strict';this.processResults(k,l,m);this.inform('respond',{value:k,results:l,isAsync:!!m});return l;};j.prototype.processResults=function(k,l,m){'use strict';if(this.bootstrapData.alwaysShowEcho){var n=-1;for(var o=0;o<l.length;++o)if(l[o].text.toLowerCase()===k.toLowerCase()){n=o;break;}var p={};if(n===-1){p={bootstrapped:false,index:0,query:k,render_type:'hashtag',text:k,type:'hashtag',uid:this.getUniqueID()};l.map(function(q){q.index+=1;});l.unshift(p);}else if(n>0){p=l.splice(n,1)[0];l.unshift(p);l.map(function(q,r){q.index=r;});}}};j.prototype.getUniqueID=function(){'use strict';var k='_'+Math.random().toString(36).substr(2,9);while(this._data[k]!==undefined)k='_'+Math.random().toString(36).substr(2,9);return k;};j.prototype.fetch=function(k,l,m){'use strict';if(!k)return;if(this._enforceNewRequestIDUponFetch||l.request_id===undefined){l.request_id=this._guid();m.request_id=l.request_id;}var n=new (c('AsyncRequest'))().setURI(k).setData(l).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(this._acrossTransitions).setHandler(function(v){this.fetchHandler(v,m||{});}.bind(this));if(k===this.queryEndpoint){for(var o=this._headerflags,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r,t=s[0],u=s[1];n.setRequestHeader(t,u);}n.setFinallyHandler(function(){this._activeQueries--;if(!this._activeQueries)this.inform('activity',{activity:false});}.bind(this));}n.setErrorHandler(function(v){return this.asyncErrorHandler(v,m);}.bind(this));this.inform('beforeFetch',{request:n,fetch_context:m});n.send();this.transport=n.transport;if(k===this.queryEndpoint){if(!this._activeQueries)this.inform('activity',{activity:true});this._activeQueries++;}};j.prototype.fetchHandler=function(k,l){'use strict';var m=l.value,n=l.exclusions;if(k.getPayload().requestID!==undefined)l.request_id=k.getPayload().requestID;var o=this.getQueryIDs(),p=this.tokenizeBackend(m||'').flatValue;o[p]=l.request_id;if(!m&&l.replaceCache)this.localCache={};this.inform('buildQueryCache',{});var q=k.getPayload().entries;this.addEntries(q,m);this.inform('fetchComplete',{entries:q,response:k,value:m,fetch_context:l});var r=!m&&this.value?this.value:m;this.respond(r,this.buildUids(r,[],n),true);if(!m){if(this._bootstrapping){this._bootstrapping=false;this.inform('bootstrap',{bootstrapping:false});}if(l.token&&k.getPayload().token!==l.token)this.bootstrapWithToken();}};j.prototype.addEntries=function(k,l){'use strict';var m=this.processEntries(c('createArrayFromMixed')(k||[]),l),n=m;if(this._enabledMergeUids)n=this.buildUids(l,m);if(l){var o=this.getQueryCache(),p=this.tokenizeBackend(l).flatValue;o[p]=n;}else this.fillCache(n);return m;};j.prototype.processEntries=function(k,l){'use strict';return k.map(function(m,n){var o=m.uid=m.uid+'',p=this.getEntry(o);if(!p){p=m;p.query=l;p.bootstrapped=!l;this.setEntry(o,p);}else Object.assign(p,m);this.processEntry(p,l);p.index===undefined&&(p.index=n);return o;},this);};j.prototype.processEntry=function(k,l){'use strict';};j.prototype.getAllEntries=function(){'use strict';return this._data||{};};j.prototype.getEntry=function(k){'use strict';return this._data[k]||null;};j.prototype.setEntry=function(k,l){'use strict';this._data[k]=l;};j.prototype.fillCache=function(k){'use strict';if(!this._enabledLocalCache)return;var l=this.localCache;k.forEach(function(m){var n=this.getEntry(m);if(!n)return;var o=this.tokenizeCache(this.getTextToIndex(n)).tokens;for(var p=0,q=o.length;p<q;++p){var r=o[p];if(!Object.prototype.hasOwnProperty.call(l,r))l[r]={};l[r][m]=true;}},this);};j.prototype.getTextToIndex=function(k){'use strict';if(k.textToIndex&&!k.needs_update)return k.textToIndex;k.needs_update=false;k.textToIndex=this.getTextToIndexFromFields(k,this._indexedFields);return k.textToIndex;};j.prototype.getTextToIndexFromFields=function(k,l){'use strict';var m=[];for(var n=0;n<l.length;++n){var o=k[l[n]];if(o)m.push(o.join?o.join(' '):o);}return m.join(' ');};j.prototype.mergeUids=function(k,l,m,n){'use strict';this.inform('mergeUids',{local_uids:k,query_uids:l,new_uids:m,value:n});this._checkExtendedMatch(n,k);return this.deduplicateByKey(k.sort(this.bootstrapSort.bind(this)).concat(l,m));};j.prototype.bootstrapSort=function(k,l){'use strict';var m=this.getEntry(k),n=this.getEntry(l);if(m.extended_match!==n.extended_match)return m.extended_match?1:-1;if(m.index!==n.index)return m.index-n.index;if(m.text.length!==n.text.length)return m.text.length-n.text.length;if(m.text===n.text)return m.uid<n.uid?-1:1;return m.text<n.text?-1:1;};j.prototype._checkExtendedMatch=function(k,l){'use strict';var m=this._alwaysPrefixMatch?c('TokenizeUtil').isPrefixMatch:c('TokenizeUtil').isQueryMatch;for(var n=0;n<l.length;++n){var o=this.getEntry(l[n]);o.extended_match=o.tokens?!m(k,o.text):false;}};j.prototype.buildUids=function(k,l,m){'use strict';if(!l)l=[];if(!k)return l;if(!m)m=[];var n=this.buildCacheResults(k,this.localCache),o=this.buildQueryResults(k),p=this.mergeUids(n,o,l,k),q=c('createObjectFrom')(m.concat(this._exclusions)),r=p.filter(function(s){if(Object.prototype.hasOwnProperty.call(q,s)||!this.getEntry(s))return false;for(var t=0;t<this._filters.length;++t)if(!this._filters[t](this.getEntry(s),k))return false;return q[s]=true;},this);return this.uidsIncludingExact(k,r);};j.prototype.uidsIncludingExact=function(k,l){'use strict';var m=l.length;if(m<=this._maxResults||c('str2rstr')(k).length<this._minExactMatchLength)return l;for(var n=0;n<m;++n){var o=this.getEntry(l[n]);o.text_lower||(o.text_lower=o.text.toLowerCase());if(o.text_lower===this.tokenizeCache(k).flatValue){if(n>=this._maxResults){var p=l.splice(n,1)[0];l.splice(this._maxResults-1,0,p);}break;}}return l;};j.prototype.buildData=function(k){'use strict';var l=[],m=Math.min(k.length,this._maxResults);for(var n=0;n<m;++n)l.push(this.getEntry(k[n]));return l;};j.prototype.findBestPreviousQuery=function(k,l){'use strict';var m=0,n=null;if(this._queryExactMatch)return Object.prototype.hasOwnProperty.call(l,k)?k:null;for(var o in l)if(k.indexOf(o)===0&&o.length>m){m=o.length;n=o;}return n;};j.prototype.findQueryCache=function(k){'use strict';var l=this.findBestPreviousQuery(k,this.getQueryCache());return this.getQueryCache()[l]||[];};j.prototype.buildQueryResults=function(k){'use strict';var l=this.tokenizeBackend(k).flatValue,m=this.findQueryCache(l);if(Object.prototype.hasOwnProperty.call(this.getQueryCache(),l))return m;var n=this.filterQueryResults(l,m);return n;};j.prototype.filterQueryResults=function(k,l){'use strict';var m=this._alwaysPrefixMatch?c('TokenizeUtil').isPrefixMatch:c('TokenizeUtil').isQueryMatch;return l.filter(function(n){return m(k,this.getTextToIndex(this.getEntry(n)));},this);};j.prototype.buildCacheResults=function(k,l){'use strict';var m=this.tokenizeCache(k,this._alwaysPrefixMatch),n=this._alwaysPrefixMatch?m.sortedTokens:m.tokens,o=n.length,p=m.isPrefixQuery?o-1:null,q={},r={},s={},t=[],u=false,v={},w=0;for(var x=0;x<o;++x){var y=n[x];if(!Object.prototype.hasOwnProperty.call(v,y)){w++;v[y]=true;}else continue;for(var z in l)if(!Object.prototype.hasOwnProperty.call(q,z)&&z===y||(this._alwaysPrefixMatch||p===x)&&this.cacheUnicodeMatch.prefixMatch(z,y)){if(z===y){if(Object.prototype.hasOwnProperty.call(r,z))u=true;q[z]=true;}else{if(Object.prototype.hasOwnProperty.call(q,z)||Object.prototype.hasOwnProperty.call(r,z))u=true;r[z]=true;}for(var aa in l[z])if(x===0||Object.prototype.hasOwnProperty.call(s,aa)&&s[aa]==w-1)s[aa]=w;}}for(var ba in s)if(s[ba]==w)t.push(ba);if(u||w<o)t=this.filterQueryResults(k,t);if(this._titleFields&&this._titleFields.length>0)t=this.filterNonTitleMatchQueryResults(k,t);return t;};j.prototype.filterNonTitleMatchQueryResults=function(k,l){'use strict';return l.filter(function(m){var n=this.tokenizeCache(k),o=n.tokens.length;if(o===0)return true;var p=this.getTitleTerms(this.getEntry(m)),q=n.tokens[0];return o===1||this._alwaysPrefixMatch?c('TokenizeUtil').isPrefixMatch(q,p)||this.cacheUnicodeMatch.prefixMatch(p,q):c('TokenizeUtil').isQueryMatch(q,p);},this);};j.prototype.getTitleTerms=function(k){'use strict';if(!k.titleToIndex)k.titleToIndex=this.getTextToIndexFromFields(k,this._titleFields);return k.titleToIndex;};j.prototype.deduplicateByKey=function(k){'use strict';if(!this._deduplicationKey)return k;var l=c('createObjectFrom')(k.map(this._getDeduplicationKey.bind(this)),k);return k.filter(function(m){return l[this._getDeduplicationKey(m)]==m;}.bind(this));};j.prototype._getDeduplicationKey=function(k){'use strict';var l=this.getEntry(k);if(l[this._deduplicationKey]){return l[this._deduplicationKey]+'';}else return '__'+k+'__';};j.prototype.getQueryCache=function(){'use strict';return this.queryCache;};j.prototype.getQueryIDs=function(){'use strict';return this.queryIDs;};j.prototype.setMaxResults=function(k){'use strict';this._maxResults=k;this.value&&this.respond(this.value,this.buildUids(this.value));};j.prototype.getMaxResults=function(){'use strict';return this._maxResults;};j.prototype.updateToken=function(k){'use strict';this.token=k;this.dirty();return this;};j.prototype.getResponseHeaderValue=function(k){'use strict';var l='';if(this.transport){l=this.transport.getResponseHeader(k);if(!l)l='';}return l;};j.prototype._guid=function(){'use strict';var k=Date.now(),l='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(m){var n=Math.floor((k+Math.random()*16)%16);k=Math.floor(k/16);var o=(m=='x'?n:n&7|8).toString(16);return o;});return l;};Object.assign(j.prototype,{events:['bootstrap','query','respond'],asyncErrorHandler:c('emptyFunction')});f.exports=j;}),null);
__d('FullScreen',['Event','Arbiter','CSS','UserAgent','UserAgent_DEPRECATED','throttle','Keys'],(function a(b,c,d,e,f,g){var h={},i=false,j=function o(p){if(c('Event').getKeyCode(p)===c('Keys').ESC)p.stopPropagation();},k=function o(){if(!i){document.addEventListener('keydown',j,true);i=true;}},l=function o(){if(i){document.removeEventListener('keydown',j,true);i=false;}},m=Object.assign(new (c('Arbiter'))(),{listenForEvent:function o(p){var q=c('throttle')(this.onChange,0,this);if(!h[p.id]){h[p.id]=true;c('Event').listen(p,{webkitfullscreenchange:q,mozfullscreenchange:q,MSFullscreenChange:q,fullscreenchange:q});}},enableFullScreen:function o(p){this.listenForEvent(p);if(p.webkitRequestFullScreen){if(c('UserAgent_DEPRECATED').chrome()){p.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);}else p.webkitRequestFullScreen();}else if(p.mozRequestFullScreen){p.mozRequestFullScreen();}else if(p.msRequestFullscreen){k();p.msRequestFullscreen();}else if(p.requestFullScreen){p.requestFullScreen();}else return false;return true;},disableFullScreen:function o(){if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}else if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.exitFullScreen){document.exitFullScreen();}else return false;return true;},isFullScreen:function o(){return document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen||document.msFullscreenElement;},toggleFullScreen:function o(p){if(this.isFullScreen()){this.disableFullScreen();return false;}else return this.enableFullScreen(p);return false;},onChange:function o(){var p=this.isFullScreen();c('CSS').conditionClass(document.body,'fullScreen',p);this.inform('changed');if(!p)l();},isSupportedWithKeyboardInput:function o(){return this.isSupported()&&!c('UserAgent').isBrowser('Safari');},isSupported:function o(){var p=document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.fullscreenEnabled;return p||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.cancelFullScreen||document.exitFullScreen;}}),n=c('throttle')(m.onChange,0,m);c('Event').listen(document,{webkitfullscreenchange:n,mozfullscreenchange:n,MSFullscreenChange:n,fullscreenchange:n});f.exports=m;}),null);
__d('VideoPermalinkURI',[],(function a(b,c,d,e,f,g){var h={isValid:function i(j){return h.parse(j)!==null;},parse:function i(j){if(this.isValidLegacy(j)){var k=j.getQueryData();if(k.v)return {video_id:k.v,set_token:k.set};return null;}var l=j.getPath();if(l[l.length-1]==='/')l=l.substring(0,l.length-1);var m=l.split('/');if(m.length>=3&&m[2]==='videos')if(m.length===4&&/^\d+$/.exec(m[3])!==null){return {video_id:m[3],set_token:null};}else if(m.length===5&&/^\d+$/.exec(m[4])!==null)return {video_id:m[4],set_token:m[3]};return null;},isValidLegacy:function i(j){var k=j.getPath();if(k[k.length-1]==='/')k=k.substring(0,k.length-1);if(k==='/photo.php'||k==='/force_photo/photo.php'||k==='/photo'||k==='/force_photo/photo/index.php'||k==='/photo/index.php'||k==='/force_photo/photo'||k==='/video.php'||k==='/video/video.php')return true;return false;}};f.exports=h;}),null);
__d('ScrollBoundaryContain',['Event','Parent','Scroll','UserAgent_DEPRECATED'],(function a(b,c,d,e,f,g){var h=function l(m,event){if(typeof event.axis!=='undefined'&&event.axis===event.HORIZONTAL_AXIS||event.wheelDeltaX&&!event.wheelDeltaY||event.deltaX&&!event.deltaY)return;var n=event.wheelDelta||-event.deltaY||-event.detail,o=m.scrollHeight,p=m.clientHeight;if(o>p){var q=c('Scroll').getTop(m);if(n>0&&q===0||n<0&&q>=o-p-1)event.prevent();}},i=function l(event){var m=c('Parent').byClass(event.getTarget(),'scrollable');if(!m)return;h(m,event);},j=function l(m,n){if(c('UserAgent_DEPRECATED').firefox()){var o='WheelEvent' in window?'wheel':'DOMMouseScroll';m.addEventListener(o,n);}else c('Event').listen(m,'mousewheel',n,undefined);},k={applyToElem:function l(m){if(m.style.msScrollChaining!==undefined)m.style.msScrollChaining='none';j(m,h.bind(null,m));},applySlowGlobalActiveListener:function l(){j(document.documentElement,i);}};f.exports=k;}),null);
__d('VideoFeedFastPreloadController',['Run','DOMQuery'],(function a(b,c,d,e,f,g){var h=0,i={preload:function j(k){if(h<2){k=c('DOMQuery').scry(k,'video')[0];if(k instanceof b.HTMLVideoElement){if(!h)c('Run').onBeforeUnload(function(){return i.reset();});k.preload='auto';h+=1;}}},reset:function j(){h=0;}};i.reset();f.exports=i;}),null);
__d('PriorityJobQueue',['Promise','Map'],(function a(b,c,d,e,f,g){'use strict';var h=1;function i(j){this.$PriorityJobQueue2=new (c('Map'))();this.$PriorityJobQueue3=new (c('Map'))();this.$PriorityJobQueue4=false;this.$PriorityJobQueue5=new (c('Map'))();this.$PriorityJobQueue8=function(){var k=this.$PriorityJobQueue3.size,l=Date.now();if(k<this.$PriorityJobQueue1){var m=this.$PriorityJobQueue1-k,n=Array.from(this.$PriorityJobQueue2.values());n.sort(function(q,r){return r.job.getPriority(l-r.timeQueued)-q.job.getPriority(l-q.timeQueued);});var o=this.$PriorityJobQueue2.size;for(var p=0;p<Math.min(o,m);p++)this.$PriorityJobQueue9(n[p]);}this.$PriorityJobQueue4=false;}.bind(this);this.$PriorityJobQueue1=j||h;}i.prototype.$PriorityJobQueue6=function(j){this.$PriorityJobQueue3['delete'](j);this.$PriorityJobQueue7();};i.prototype.$PriorityJobQueue7=function(){if(!this.$PriorityJobQueue4){this.$PriorityJobQueue4=true;c('Promise').resolve().then(this.$PriorityJobQueue8).done();}};i.prototype.$PriorityJobQueue9=function(j){var k=j.job,l=k.getJobID();this.$PriorityJobQueue2['delete'](l);this.$PriorityJobQueue3.set(l,j);k.getPromise().then(function(){return this.$PriorityJobQueue6(l);}.bind(this))['catch']();var m=this.$PriorityJobQueue5.get(l);m&&m();this.$PriorityJobQueue5['delete'](l);k.start();};i.prototype.enqueue=function(j,k){var l={job:j,timeQueued:Date.now()},m=j.getJobID();this.$PriorityJobQueue2.set(m,l);if(k)this.$PriorityJobQueue5.set(m,k);this.$PriorityJobQueue7();return this;};i.prototype.abort=function(j){this.$PriorityJobQueue2['delete'](j);var k=this.$PriorityJobQueue3.get(j);if(k){k.job.abort();this.$PriorityJobQueue3['delete'](j);this.$PriorityJobQueue7();}};i.get=function(){if(!i.$PriorityJobQueue10)i.$PriorityJobQueue10=new i(h);return i.$PriorityJobQueue10;};f.exports=i;}),null);
__d('VideoPlayerResourceTimer',[],(function a(b,c,d,e,f,g){'use strict';var h={getResourceTimingEntry:function i(j,k,l){var m;if(performance.getEntriesByType){var m=function(){var n=performance.getEntriesByName(j,'resource'),o=[];n.forEach(function(p){if(typeof p.responseEnd==='number'&&typeof p.responseStart==='number'&&typeof p.requestStart==='number'&&typeof p.connectEnd==='number'&&typeof p.connectStart==='number'&&typeof p.domainLookupEnd==='number'&&typeof p.domainLookupStart==='number'&&typeof p.transferSize==='number'&&p.responseEnd<=l&&p.startTime>=k)o.push({entry:{timeToFirstByte:p.responseStart-p.startTime,timeToLastByte:p.responseEnd-p.startTime,timeToRequestStart:p.requestStart-p.startTime,timeToConectionEnd:p.connectEnd-p.startTime,timeToConnectionStart:p.connectStart-p.startTime,timeToDomainLookupEnd:p.domainLookupEnd-p.startTime,timeToDomainLookupStart:p.domainLookupStart-p.startTime,transferSize:p.transferSize,startTime:p.startTime},sort:p.responseEnd});});o.sort(function(p,q){return q.sort-p.sort;});if(o.length)return {v:o[0].entry};}();if(typeof m==="object")return m.v;}return null;}};f.exports=h;}),null);
__d('CacheStorage',['ErrorUtils','EventListener','ExecutionEnvironment','FBJSON','WebStorage'],(function a(b,c,d,e,f,g){var h,i,j,k,l={memory:s,localstorage:q,sessionstorage:r},m='_@_',n='3b',o='CacheStorageVersion';function p(u){'use strict';this._store=u;}p.prototype.getStore=function(){'use strict';return this._store;};p.prototype.keys=function(){'use strict';var u=[];for(var v=0;v<this._store.length;v++)u.push(this._store.key(v));return u;};p.prototype.get=function(u){'use strict';return this._store.getItem(u);};p.prototype.set=function(u,v){'use strict';this._store.setItem(u,v);};p.prototype.remove=function(u){'use strict';this._store.removeItem(u);};p.prototype.clear=function(){'use strict';this._store.clear();};h=babelHelpers.inherits(q,p);i=h&&h.prototype;function q(){'use strict';i.constructor.call(this,c('WebStorage').getLocalStorage());}q.available=function(){'use strict';return !!c('WebStorage').getLocalStorage();};j=babelHelpers.inherits(r,p);k=j&&j.prototype;function r(){'use strict';k.constructor.call(this,c('WebStorage').getSessionStorage());}r.available=function(){'use strict';return !!c('WebStorage').getSessionStorage();};function s(){'use strict';this._store={};}s.prototype.getStore=function(){'use strict';return this._store;};s.prototype.keys=function(){'use strict';return Object.keys(this._store);};s.prototype.get=function(u){'use strict';if(this._store[u]===undefined)return null;return this._store[u];};s.prototype.set=function(u,v){'use strict';this._store[u]=v;};s.prototype.remove=function(u){'use strict';if(u in this._store)delete this._store[u];};s.prototype.clear=function(){'use strict';this._store={};};s.available=function(){'use strict';return true;};function t(u,v){'use strict';this._key_prefix=v||'_cs_';if(u=='AUTO'||!u)for(var w in l){var x=l[w];if(x.available()){u=w;break;}}if(u)if(!l[u]||!l[u].available()){c('ExecutionEnvironment').canUseDOM;this._backend=new s();}else this._backend=new l[u]();var y=this.useBrowserStorage();if(y)c('EventListener').listen(window,'storage',this._onBrowserValueChanged.bind(this));var z=y?this._backend.getStore().getItem(o):this._backend.getStore()[o];if(z!==n)this.clear();}t.prototype.useBrowserStorage=function(){'use strict';return this._backend.getStore()===c('WebStorage').getLocalStorage()||this._backend.getStore()===c('WebStorage').getSessionStorage();};t.prototype.addValueChangeCallback=function(u){'use strict';this._changeCallbacks=this._changeCallbacks||[];this._changeCallbacks.push(u);return {remove:function(){this._changeCallbacks.slice(this._changeCallbacks.indexOf(u),1);}.bind(this)};};t.prototype._onBrowserValueChanged=function(u){'use strict';if(this._changeCallbacks&&String(u.key).startsWith(this._key_prefix))this._changeCallbacks.forEach(function(v){v(u.key,u.oldValue,u.newValue);});};t.prototype.keys=function(){'use strict';var u=[];c('ErrorUtils').guard(function(){if(this._backend){var v=this._backend.keys(),w=this._key_prefix.length;for(var x=0;x<v.length;x++)if(v[x].substr(0,w)==this._key_prefix)u.push(v[x].substr(w));}}.bind(this),'CacheStorage')();return u;};t.prototype.set=function(u,v,w){'use strict';if(this._backend){var x;if(typeof v=='string'){x=m+v;}else if(!w){x={__t:Date.now(),__v:v};x=c('FBJSON').stringify(x);}else x=c('FBJSON').stringify(v);var y=this._backend,z=this._key_prefix+u,aa=true;while(aa)try{y.set(z,x);aa=false;}catch(ca){var ba=y.keys().length;this._evictCacheEntries();aa=y.keys().length<ba;}}};t.prototype._evictCacheEntries=function(){'use strict';var u=[],v=this._backend;v.keys().forEach(function(x){if(x===o)return;var y=v.get(x);if(y===undefined){v.remove(x);return;}if(t._hasMagicPrefix(y))return;try{y=c('FBJSON').parse(y,f.id);}catch(z){v.remove(x);return;}if(y&&y.__t!==undefined&&y.__v!==undefined)u.push([x,y.__t]);});u.sort(function(x,y){return x[1]-y[1];});for(var w=0;w<Math.ceil(u.length/2);w++)v.remove(u[w][0]);};t.prototype.get=function(u,v){'use strict';var w;if(this._backend){c('ErrorUtils').applyWithGuard(function(){w=this._backend.get(this._key_prefix+u);},this,null,function(){w=null;},'CacheStorage:get');if(w!==null){if(t._hasMagicPrefix(w)){w=w.substr(m.length);}else try{w=c('FBJSON').parse(w,f.id);if(w&&w.__t!==undefined&&w.__v!==undefined)w=w.__v;}catch(x){w=undefined;}}else w=undefined;}if(w===undefined&&v!==undefined){w=v;this.set(u,w);}return w;};t.prototype.remove=function(u){'use strict';if(this._backend)c('ErrorUtils').applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+u],null,'CacheStorage:remove');};t.prototype.clear=function(){'use strict';if(this._backend){c('ErrorUtils').applyWithGuard(this._backend.clear,this._backend,null,null,null,'CacheStorage:clear');if(this.useBrowserStorage()){this._backend.getStore().setItem(o,n);}else this._backend.getStore()[o]=n;}};t.getAllStorageTypes=function(){'use strict';return Object.keys(l);};t._hasMagicPrefix=function(u){'use strict';return u.substr(0,m.length)===m;};f.exports=t;}),null);
__d('VideoPlayerShakaBandwidthEstimator',['CacheStorage','requireWeak','Run','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){var h=void 0;c('requireWeak')('Shaka',function(l){h=l.util.EWMACacheBandwidthEstimator;});var i=null,j=false;function k(){'use strict';var l=new (c('CacheStorage'))('localstorage','_video_'),m=l.get('bandwidthEstimate');this.$VideoPlayerShakaBandwidthEstimator1={isMockObject:true,getBandwidth:function n(){return m;},getFastMovingBandwidth:function n(){return m;}};if(h){this.$VideoPlayerShakaBandwidthEstimator1=new h(c('VideoPlayerShakaExperiments').cacheDelay,c('VideoPlayerShakaExperiments').cacheBandwidth,m);this.$VideoPlayerShakaBandwidthEstimator1.isMockObject=false;}c('Run').onUnload(function(){l.set('bandwidthEstimate',this.$VideoPlayerShakaBandwidthEstimator1.getBandwidth());}.bind(this));}k.prototype.getEstimator=function(){'use strict';return this.$VideoPlayerShakaBandwidthEstimator1;};k.getInstance=function(){'use strict';if(i===null||i.getEstimator().isMockObject&&h)i=new k();return i;};k.getEstimator=function(){'use strict';return k.getInstance().getEstimator();};k.getBandwidth=function(){'use strict';var l=k.getEstimator();return l.getBandwidth();};k.isAutoplayBandwidthRestrained=function(l){'use strict';var m=k.getEstimator(),n=void 0;if(c('VideoPlayerShakaExperiments').blockAutoplayUseFastMovingAverage&&j){n=m.getFastMovingBandwidth();}else n=m.getBandwidth();var o=l?c('VideoPlayerShakaExperiments').liveBlockAutoplayBandwidthThreshold:c('VideoPlayerShakaExperiments').blockAutoplayBandwidthThreshold;if(n===null||n>o){j=false;}else j=true;return j;};f.exports=k;}),null);
__d('VideoPlayerShakaError',[],(function a(b,c,d,e,f,g){'use strict';var h={translateError:function i(j,k,l){var m={name:j.errorType,message:j.errorMsg,type:l,url:k,xhr:{status:j.errorCode}};return m;}};f.exports=h;}),null);
__d('VideoDashPrefetchCache',['Promise','regeneratorRuntime','Deferred','Map','PriorityJobQueue','Run','URI','VideoPlayerResourceTimer','VideoPlayerShakaBandwidthEstimator','VideoPlayerShakaError','VideoPlayerShakaExperiments','XHRRequest','getCrossOriginTransport','performanceNow'],(function a(b,c,d,e,f,g){var h=window.Promise||c('Promise');c('Promise').resolve();var i=null;function j(o){var p=new (c('URI'))(o.url),q=p.getDomain();return q.endsWith('fbcdn.net')&&!q.startsWith('interncache')&&!q.endsWith('ak.fbcdn.net');}function k(o,p,q){return {response:o.slice(p.start+0,p.end+1),responseTime:q};}function l(o,p,q){'use strict';this.$UrlRequestJob1=o;this.$UrlRequestJob2=p;this.$UrlRequestJob5=q;var r=new (c('XHRRequest'))(this.$UrlRequestJob2).setMethod('GET').setResponseType('arraybuffer').setTransportBuilder(c('getCrossOriginTransport'));this.$UrlRequestJob3=new h(function(s,t){r.setErrorHandler(function(u){t(c('VideoPlayerShakaError').translateError(u,this.$UrlRequestJob2,'preload'));}.bind(this));r.setResponseHandler(function(u){r.response=u;s(r);});r.setAbortHandler(function(){t(this.$UrlRequestJob3,new Error('Request promise aborted'));}.bind(this));}.bind(this));this.$UrlRequestJob4=r;}l.prototype.getUrl=function(){'use strict';return this.$UrlRequestJob2;};l.prototype.getPromise=function(){'use strict';return this.$UrlRequestJob3;};l.prototype.start=function(){'use strict';this.$UrlRequestJob4.send();};l.prototype.abort=function(){'use strict';this.$UrlRequestJob4.abort();};l.prototype.getPriority=function(o){'use strict';return 1/Math.min(this.$UrlRequestJob5,1)/Math.min(o,1);};l.prototype.getJobID=function(){'use strict';return this.$UrlRequestJob1;};function m(o){var p=new (c('URI'))(o);if(p.getDomain()){p=p.removeQueryData(['oh']);p=p.removeQueryData('__gda__');for(var q=Object.keys(p.getQueryData()),r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var t;if(r){if(s>=q.length)break;t=q[s++];}else{s=q.next();if(s.done)break;t=s.value;}var u=t;if(u.startsWith('_nc'))p=p.removeQueryData(u);}return p.toString();}return o;}function n(){'use strict';this.$VideoDashPrefetchCache2=new (c('Map'))();this.$VideoDashPrefetchCache1=new (c('Map'))();this.$VideoDashPrefetchCache3=new (c('Map'))();this.$VideoDashPrefetchCache4=[];this.$VideoDashPrefetchCache5=[];this.$VideoDashPrefetchCache6=0;this.$VideoDashPrefetchCache7=c('VideoPlayerShakaExperiments').maxPrefetchVideosNum;this.$VideoDashPrefetchCache8=c('VideoPlayerShakaExperiments').consolidateFragmentedPrefetchRequest;}n.prototype.$VideoDashPrefetchCache9=function(o){var p=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],q=arguments.length<=2||arguments[2]===undefined?0:arguments[2];'use strict';var r=o;if(Object.keys(p))r=new (c('URI'))(o).addQueryData(p);var s=new (c('XHRRequest'))(r).setMethod('GET').setResponseType('arraybuffer').setTransportBuilder(c('getCrossOriginTransport')),t=c('performanceNow')();this.$VideoDashPrefetchCache2['delete'](o);var u=new h(function(v,w){s.setErrorHandler(function(x){this.$VideoDashPrefetchCache10(s);w(c('VideoPlayerShakaError').translateError(x,r,'preload'));}.bind(this));s.setResponseHandler(function(x){if(c('VideoPlayerShakaExperiments').enableResourceTimingForPrefetchCache){var y=c('VideoPlayerResourceTimer').getResourceTimingEntry(o,t,c('performanceNow')());if(y)this.$VideoDashPrefetchCache2.set(m(o),y);}s.response=x;this.$VideoDashPrefetchCache10(s);v(s);}.bind(this));s.setAbortHandler(function(){w(u,new Error('Request promise aborted'));});}.bind(this));this.$VideoDashPrefetchCache11(o,u,q);this.$VideoDashPrefetchCache4.push(s);s.send();return u;};n.prototype.$VideoDashPrefetchCache11=function(o,p){var q=arguments.length<=2||arguments[2]===undefined?3600000:arguments[2];'use strict';this.$VideoDashPrefetchCache12(o);if(q>0)this.$VideoDashPrefetchCache3.set(m(o),setTimeout(function(){return this.$VideoDashPrefetchCache12(o);}.bind(this),q));this.$VideoDashPrefetchCache13(o,p);};n.prototype.genPrfetchMpdNow=function o(p,q,r){var s,t;return c('regeneratorRuntime').async(function u(v){while(1)switch(v.prev=v.next){case 0:'use strict';if(!this.has(q)){v.next=3;break;}return v.abrupt('return',null);case 3:s=r.getURL();t=new l(p,s,0);this.$VideoDashPrefetchCache11(q,t.getPromise());t.start();v.next=9;return c('regeneratorRuntime').awrap(t.getPromise());case 9:return v.abrupt('return',null);case 10:case 'end':return v.stop();}},null,this);};n.prototype.queueRequestFromMouseMovement=function(o,p,q,r,s){var t=arguments.length<=5||arguments[5]===undefined?function(){}:arguments[5],u=arguments.length<=6||arguments[6]===undefined?function(){}:arguments[6];'use strict';var v=c('PriorityJobQueue').get(),w=this.$VideoDashPrefetchCache14(p);if(w){w.then(u).done();return;}var x=q.getURL(),y=new l(o,x,r);y.getPromise().then(u)['catch'](function(){return this.getAndDelete(p);}.bind(this));v.enqueue(y,function(){this.$VideoDashPrefetchCache11(p,y.getPromise(),s);t();}.bind(this));};n.prototype.cancelRequestFromMouseMovement=function(o){'use strict';c('PriorityJobQueue').get().abort(o);};n.prototype.$VideoDashPrefetchCache12=function(o,p){'use strict';this.getAndDelete(o,p);if(this.$VideoDashPrefetchCache3.has(o)){clearTimeout(this.$VideoDashPrefetchCache3.get(o));this.$VideoDashPrefetchCache3['delete'](o);}};n.prototype.$VideoDashPrefetchCache15=function(o){'use strict';var p=[];for(var q=0;q<o.length;q++){var r=n.createQueryStringURL(o[q]);if(!this.has(r))p.push(this.$VideoDashPrefetchCache9(r));}return p;};n.prototype.$VideoDashPrefetchCache16=function(o){'use strict';var p=n.getConsolidatedURL(o);if(p==null)return this.$VideoDashPrefetchCache15(o);var q=new (c('XHRRequest'))(p).setMethod('GET').setResponseType('arraybuffer').setTransportBuilder(c('getCrossOriginTransport')),r=Date.now(),s=[];for(var t=0;t<o.length;t++){var u=n.createQueryStringURL(o[t]),v=new (c('Deferred'))();if(!this.has(u))this.$VideoDashPrefetchCache13(u,v.getPromise());s.push(v);}q.setErrorHandler(function(w){this.$VideoDashPrefetchCache10(q);for(var x=0;x<s.length;x++)s[x].reject(c('VideoPlayerShakaError').translateError(w,p,'preload'));}.bind(this));q.setResponseHandler(function(w){var x=Date.now()-r;for(var y=0;y<o.length;y++){var z=s[y],aa=o[y];z.resolve(k(w,aa,x));}this.$VideoDashPrefetchCache10(q);}.bind(this));q.setAbortHandler(function(){for(var w=0;w<o.length;w++){var x=s[w];x.reject(new Error('Request aborted.'));}});this.$VideoDashPrefetchCache4.push(q);q.send();return s.map(function(w){return w.getPromise();});};n.prototype.$VideoDashPrefetchCache17=function(o){'use strict';this.$VideoDashPrefetchCache6++;var p=this.$VideoDashPrefetchCache8?this.$VideoDashPrefetchCache16(o.video):this.$VideoDashPrefetchCache15(o.video),q=this.$VideoDashPrefetchCache8?this.$VideoDashPrefetchCache16(o.audio):this.$VideoDashPrefetchCache15(o.audio),r=this.$VideoDashPrefetchCache15(o.manifest),s=p.concat(q,r);h.all(s).then(function(){return this.$VideoDashPrefetchCache18();}.bind(this))['catch'](function(){return this.$VideoDashPrefetchCache18();}.bind(this));};n.prototype.$VideoDashPrefetchCache13=function(o,p){'use strict';o=m(o);if(this.$VideoDashPrefetchCache1.values().next().done)c('Run').onLeave(function(){for(var q=0;q<this.$VideoDashPrefetchCache4.length;q++)this.$VideoDashPrefetchCache4[q].abort();this.$VideoDashPrefetchCache4=[];this.$VideoDashPrefetchCache5=[];this.$VideoDashPrefetchCache6=0;this.$VideoDashPrefetchCache1.clear();}.bind(this));this.$VideoDashPrefetchCache1.set(o,p);};n.prototype.$VideoDashPrefetchCache10=function(o){'use strict';var p=this.$VideoDashPrefetchCache4.indexOf(o);if(p>-1)this.$VideoDashPrefetchCache4.splice(p,1);};n.prototype.$VideoDashPrefetchCache18=function(){'use strict';this.$VideoDashPrefetchCache6--;var o=this.$VideoDashPrefetchCache5.shift();if(o)this.$VideoDashPrefetchCache17(o);};n.prototype.has=function(o){'use strict';o=m(o);return this.$VideoDashPrefetchCache1.has(o);};n.prototype.getAndDelete=function(o,p){'use strict';o=m(o);var q=this.$VideoDashPrefetchCache1.get(o);if(q&&p){var r=this.$VideoDashPrefetchCache2.get(o);p(r);}this.$VideoDashPrefetchCache1['delete'](o);return q;};n.prototype.$VideoDashPrefetchCache14=function(o){'use strict';o=m(o);var p=this.$VideoDashPrefetchCache1.get(o);return p;};n.prototype.queueRequestBatch=function(o){'use strict';if(this.$VideoDashPrefetchCache7===0||this.$VideoDashPrefetchCache6<this.$VideoDashPrefetchCache7){this.$VideoDashPrefetchCache17(o);}else this.$VideoDashPrefetchCache5.push(o);};n.getInstance=function(){'use strict';if(i===null)i=new n();return i;};n.createQueryStringURL=function(o){'use strict';var p=o.url,q=o.start,r=o.end;if(q!==null&&q!==undefined&&r!==null&&r!==undefined)p=new (c('URI'))(p).addQueryData({bytestart:q,byteend:r});return p.toString();};n.getConsolidatedURL=function(o){'use strict';var p='',q=Infinity,r=0;for(var s=0;s<o.length;s++){var t=o[s],u=t.url,v=t.start,w=t.end;if(u==null||v==null||w==null)return null;if(p===''){p=u;}else if(p!==u)return null;q=Math.min(q,v);r=Math.max(r,w);}return n.createQueryStringURL({url:p,start:q,end:r});};n.loadVideo=function(o){'use strict';if(c('VideoPlayerShakaBandwidthEstimator').isAutoplayBandwidthRestrained())return;var p=n.getInstance();if(!o.manifest)o.manifest=[];p.queueRequestBatch({manifest:o.manifest.filter(j),video:o.video.filter(j),audio:o.audio.filter(j)});};n.getCacheValue=function(o,p){'use strict';return n.getInstance().getAndDelete(o,p);};n.hasCacheValue=function(o){'use strict';return n.getInstance().has(o);};f.exports=n;}),null);
__d('VideoDisplayTimePlayButton',['CSS','DataStore','Event'],(function a(b,c,d,e,f,g){var h={},i='_spinner',j={getClicked:function k(l){return c('DataStore').get(l,'clicked',false);},register:function k(l,m){var n=l.id;h[n]=c('Event').listen(l,'click',function(){if(m){c('CSS').hide(l);c('CSS').show(m);}c('DataStore').set(l,'clicked',true);});if(m)h[n+i]=c('Event').listen(m,'click',function(){c('CSS').hide(m);c('CSS').show(l);c('DataStore').set(l,'clicked',false);});},unregister:function k(l){var m=l.id;if(Object.prototype.hasOwnProperty.call(h,m))h[m].remove();var n=m+i;if(Object.prototype.hasOwnProperty.call(h,n))h[n].remove();}};f.exports=j;}),null);
__d('VideosRenderingInstrumentation',['DataStore','VideoPlayerHTML5Experiments','performanceAbsoluteNow'],(function a(b,c,d,e,f,g){var h={storeRenderTime:function i(j){var k=c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();c('DataStore').set(j,'videos_rendering_instrumentation',k);return k;},retrieveRenderTime:function i(j){var k=c('DataStore').get(j,'videos_rendering_instrumentation',NaN);if(Number.isNaN(k))k=h.storeRenderTime(j);return k;}};f.exports=h;}),null);
__d('VideoFrameBuffer',[],(function a(b,c,d,e,f,g){function h(i,j,k){'use strict';this.$VideoFrameBuffer2=j;this.$VideoFrameBuffer1=i;this.$VideoFrameBuffer3=k||'contain';}h.prototype.updateFrameBuffer=function(){'use strict';if(this.$VideoFrameBuffer4){this.$VideoFrameBuffer1.width=this.$VideoFrameBuffer4;this.$VideoFrameBuffer4=null;}if(this.$VideoFrameBuffer5){this.$VideoFrameBuffer1.height=this.$VideoFrameBuffer5;this.$VideoFrameBuffer5=null;}var i=this.$VideoFrameBuffer1.clientWidth||this.$VideoFrameBuffer1.width,j=this.$VideoFrameBuffer1.clientHeight||this.$VideoFrameBuffer1.height,k=i,l=j,m=this.$VideoFrameBuffer2.videoWidth/this.$VideoFrameBuffer2.videoHeight,n=k/l;if(this.$VideoFrameBuffer3==='cover'){n*=-1;m*=-1;}if(n>m){k=l*m;}else if(n<m)l=k/m;var o=this.$VideoFrameBuffer1.getContext('2d');if(!(o instanceof window.CanvasRenderingContext2D))return;o.drawImage(this.$VideoFrameBuffer2,(i-k)/2,(j-l)/2,k,l);};h.prototype.getDOMNode=function(){'use strict';return this.$VideoFrameBuffer1;};h.prototype.updateDimensions=function(i,j){'use strict';this.$VideoFrameBuffer4=i;this.$VideoFrameBuffer5=j;};f.exports=h;}),null);
__d('enumerate',[],(function a(b,c,d,e,f,g){'use strict';f.exports=function(h){return h.FB_enumerate;}(b);}),null);
__d('uuid',[],(function a(b,c,d,e,f,g){function h(){return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(i){var j=Math.random()*16|0,k=i=='x'?j:j&3|8;return k.toString(16);});}f.exports=h;}),null);
__d('ImmutableValue',['invariant','isNode','keyOf'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('keyOf')({_DONT_EVER_TYPE_THIS_SECRET_KEY:null});function j(k){k===j[i]||h(0);}j.mergeAllPropertiesInto=function(k,l){var m=l.length;for(var n=0;n<m;n++)Object.assign(k,l[n]);};j.deepFreezeRootNode=function(k){if(c('isNode')(k))return;Object.freeze(k);for(var l in k)if(Object.prototype.hasOwnProperty.call(k,l))j.recurseDeepFreeze(k[l]);Object.seal(k);};j.recurseDeepFreeze=function(k){if(c('isNode')(k)||!j.shouldRecurseFreeze(k))return;Object.freeze(k);for(var l in k)if(Object.prototype.hasOwnProperty.call(k,l))j.recurseDeepFreeze(k[l]);Object.seal(k);};j.shouldRecurseFreeze=function(k){return typeof k==='object'&&!(k instanceof j)&&k!==null;};j._DONT_EVER_TYPE_THIS_SECRET_KEY=Math.random();f.exports=j;}),null);
__d('mergeHelpers',['invariant','keyMirror','FbtResultBase'],(function a(b,c,d,e,f,g,h){'use strict';var i=36,j=function l(m){return typeof m!=='object'||m instanceof Date||m===null||m instanceof c('FbtResultBase');},k={MAX_MERGE_DEPTH:i,isTerminal:j,normalizeMergeArg:function l(m){return m===undefined||m===null?{}:m;},checkMergeArrayArgs:function l(m,n){Array.isArray(m)&&Array.isArray(n)||h(0);},checkMergeObjectArgs:function l(m,n){k.checkMergeObjectArg(m);k.checkMergeObjectArg(n);},checkMergeObjectArg:function l(m){!j(m)&&!Array.isArray(m)||h(0);},checkMergeIntoObjectArg:function l(m){(!j(m)||typeof m==='function')&&!Array.isArray(m)||h(0);},checkMergeLevel:function l(m){m<i||h(0);},checkArrayStrategy:function l(m){m===undefined||m in k.ArrayStrategies||h(0);},ArrayStrategies:c('keyMirror')({Clobber:true,IndexByIndex:true})};f.exports=k;}),null);
__d('ImmutableObject',['invariant','ImmutableValue','keyOf','mergeHelpers'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('mergeHelpers').checkMergeObjectArgs,l=c('mergeHelpers').isTerminal,m=c('keyOf')({_DONT_EVER_TYPE_THIS_SECRET_KEY:null});function n(q){q instanceof c('ImmutableValue')||h(0);}i=babelHelpers.inherits(o,c('ImmutableValue'));j=i&&i.prototype;function o(){j.constructor.call(this,c('ImmutableValue')[m]);c('ImmutableValue').mergeAllPropertiesInto(this,arguments);}o.create=function(){var q=Object.create(o.prototype);o.apply(q,arguments);return q;};o.set=function(q,r){n(q);typeof r==='object'&&r!==undefined&&!Array.isArray(r)||h(0);return new o(q,r);};o.setProperty=function(q,r,s){var t={};t[r]=s;return o.set(q,t);};o.deleteProperty=function(q,r){var s={};for(var t in q)if(t!==r&&Object.prototype.hasOwnProperty.call(q,t))s[t]=q[t];return new o(s);};o.setDeep=function(q,r){n(q);return p(q,r);};o.values=function(q){return Object.keys(q).map(function(r){return q[r];});};function p(q,r){k(q,r);var s={},t=Object.keys(q);for(var u=0;u<t.length;u++){var v=t[u];if(!Object.prototype.hasOwnProperty.call(r,v)){s[v]=q[v];}else if(l(q[v])||l(r[v])){s[v]=r[v];}else s[v]=p(q[v],r[v]);}var w=Object.keys(r);for(u=0;u<w.length;u++){var x=w[u];if(Object.prototype.hasOwnProperty.call(q,x))continue;s[x]=r[x];}return q instanceof c('ImmutableValue')?new o(s):r instanceof c('ImmutableValue')?new o(s):s;}f.exports=o;}),null);
__d('MarauderLogger',['Banzai','CacheStorage','MarauderConfig'],(function a(b,c,d,e,f,g){var h='client_event',i='navigation',j=180000,k='marauder',l='marauder_last_event_time',m='marauder_last_session_id',n={},o=[],p=false,q=null,r=null,s=null,t=0,u,v,w=false,x=null,y=false;function z(){ia().set(l,aa());}c('Banzai').subscribe(c('Banzai').SHUTDOWN,z);function aa(){u=u||ia().get(l)||0;return u;}function ba(){if(!w){v=ia().get(m);w=true;}var ra=Date.now();if(!v||ra-j>aa()){v=ra.toString(16)+'-'+(~~(Math.random()*16777215)).toString(16);ia().set(m,v);}return v;}function ca(){return {user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null};}function da(){return {locale:navigator.language};}function ea(ra,sa,ta,ua,va,wa,xa){var ya=xa||Date.now();u=xa?Date.now():ya;sa=sa||q;return {name:ra,time:ya/1000,module:sa,obj_type:ua,obj_id:va,uuid:wa,extra:ta};}function fa(ra,sa,ta){return ea('content',null,{flags:sa},null,null,ra,ta);}function ga(ra){var sa=window.__mrdr;if(sa)for(var ta in sa){var ua=sa[ta];if(ua[3]!==0){delete sa[ta];if(ta==="1")if(s!==null){ta=s;}else continue;ra.push(fa(ta,1,ua[1]));ra.push(fa(ta,2,ua[2]));ra.push(fa(ta,3,ua[3]));}}}function ha(ra){ga(ra);if(ra.length===0)return;if(p)ra.push(ea('counters',null,n));var sa=ra[0].name==='time_spent_bit_array'&&c('Banzai').isEnabled('vital_navigations'),ta=sa?c('Banzai').VITAL:c('Banzai').BASIC,ua=c('MarauderConfig').gk_enabled;if(t===0&&ua){ra.push(ea('device_status',null,da()));if(!sa)ta={delay:5000};}if(ua&&Math.random()<.01)ra.push(ea('device_info',null,ca()));if(s!==null)for(var va=0;va<ra.length;va++){var wa=ra[va];if(wa.uuid===null||wa.uuid===undefined)wa.uuid=s;}var xa={app_ver:c('MarauderConfig').app_version,data:ra,log_type:h,seq:t++,session_id:ba()},ya=ia().get('device_id');if(ya)xa.device_id=ya;n={};p=false;c('Banzai').post(k,xa,ta);}function ia(){if(!y){y=true;x=new (c('CacheStorage'))('localstorage','');}return x;}function ja(ra){if(!n[ra])n[ra]=0;n[ra]++;p=true;}function ka(ra,sa,ta,ua,va,wa,xa){ha([ea(ra,sa,ta,ua,va,wa,xa)]);}function la(ra,sa){if(q!==sa){o.push(ea(i,q,{dest_module:sa,source_url:r,destination_url:ra}));q=sa;r=ra;}}function ma(ra,sa){if(q!==sa){s=null;la(ra,sa);}}function na(ra,sa,ta){ka(sa?'show_module':'hide_module',ra,ta);}function oa(ra){q=ra;}function pa(){return q;}function qa(ra){if(s===null){s=ra;if(ra!==null){ha(o);o=[];}}}f.exports={count:ja,log:ka,navigateTo:ma,navigateWithinSession:la,toggleModule:na,setUUID:qa,setNavigationModule:oa,getNavigationModule:pa};}),null);
__d('QE2Logger',['Banzai'],(function a(b,c,d,e,f,g){var h='qe2_log_exposure',i={},j={logExposureForUser:function k(l,m){m=m?m:'';j.__logExposure(l,m,9);},logExposureForEmail:function k(l,m){j.__logExposure(l,m,3);},logExposureForDatr:function k(l){j.__logExposure(l,'',5);},logExposureForPage:function k(l,m){j.__logExposure(l,m,7);},logExposureForPhoneNumber:function k(l,m){j.__logExposure(l,m,8);},logExposureForScimCompanyID:function k(l,m){j.__logExposure(l,m,22);},logExposure:function k(l,m,n){j.__logExposure(l,m,n);},__logExposure:function k(l,m,n){var o=l+'|'+m;if(i[o])return;var p={universeName:l,unitID:m,unitType:n};c('Banzai').post(h,p,{signal:true});i[o]=true;}};f.exports=j;}),null);